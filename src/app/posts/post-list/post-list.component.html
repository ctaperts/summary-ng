<mat-spinner *ngIf="isLoading"></mat-spinner>
<mat-accordion multi="true" *ngIf="posts.length > 0 && !isLoading" >
  <mat-expansion-panel *ngFor="let post of posts">
    <mat-expansion-panel-header>
      {{ post.title }}
    </mat-expansion-panel-header>
  <mat-panel-title align="right">
    <button mat-button color="accent" (click)="onChangePageLayout(post.id)"
      *ngIf="! showSummary">
      {{ showAllPDFPages ? 'FIRST' : 'ALL'  }} PAGE{{ showAllPDFPages ? '' : 'S' }}
    </button>
    <button mat-button color="accent" (click)="onResize(post.id)"
      *ngIf="! showSummary">
      {{ PDFSize * 100 }}%
    </button>
    <button mat-button color="accent" (click)="onShowSummary(post.id)">
      SHOW {{ showSummary ? 'PDF': 'NLP' }}
    </button>
    <a *ngIf="userIsAuthenticated && userId == post.creator"
      mat-button color="primary" [routerLink]="['/edit', post.id]">EDIT</a>
    <button *ngIf="userIsAuthenticated && userId == post.creator"
      mat-button color="warn" (click)="onDelete(post.id)">DELETE</button>
  </mat-panel-title>
  <mat-panel-description>
    <p>
    Description:<br>
    {{ post.content }}
    </p>
  </mat-panel-description>
  <div class="post-doc" *ngIf="! showSummary">
    <pdf-viewer [src]="post.docPath" [show-all]="showAllPDFPages" [render-text]="true" [zoom]="PDFSize"></pdf-viewer>
  </div>
  <div class="post-summary" *ngIf="showSummary">
    <p>
    Example Summary
    </p>
  </div>
  </mat-expansion-panel>
</mat-accordion>
<mat-paginator [length]="totalPosts" [pageSize]="postsPerPage" [pageSizeOptions]="pageSizeOptions" (page)="onChangedPage($event)" *ngIf="posts.length > 0">
</mat-paginator>
<p class="info-text mat-body-1" *ngIf="posts.length <= 0 && !isLoading">No Posts added yet</p>
